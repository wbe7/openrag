"use strict";(globalThis.webpackChunkopenrag_docs=globalThis.webpackChunkopenrag_docs||[]).push([[2668],{3059:(e,n,s)=>{s.d(n,{Ay:()=>a,RM:()=>r});var i=s(4848),o=s(8453);const r=[];function t(e){const n={a:"a",code:"code",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"OpenRAG isn't guaranteed to be compatible with all models that are available through Ollama.\nSome models might produce unexpected results, such as JSON-formatted output instead of natural language responses, and some models aren't appropriate for the types of tasks that OpenRAG performs, such as those that generate media."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Language models"}),": Ollama-hosted language models must support tool calling to be compatible with OpenRAG.\nThe OpenRAG team recommends ",(0,i.jsx)(n.code,{children:"gpt-oss:20b"})," or ",(0,i.jsx)(n.code,{children:"mistral-nemo:12b"}),".\nIf you choose ",(0,i.jsx)(n.code,{children:"gpt-oss:20b"}),", consider using Ollama Cloud or running Ollama on a remote machine because this model requires at least 16GB of RAM."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Embedding models"}),": The OpenRAG team recommends ",(0,i.jsx)(n.a,{href:"https://ollama.com/library/nomic-embed-text",children:(0,i.jsx)(n.code,{children:"nomic-embed-text:latest"})}),", ",(0,i.jsx)(n.code,{children:"mxbai-embed-large:latest"}),", or ",(0,i.jsx)(n.code,{children:"embeddinggemma:latest"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["You can experiment with other models, but if you encounter issues that you are unable to resolve through other RAG best practices (like context filters and prompt engineering), try switching to one of the recommended models.\nYou can submit an ",(0,i.jsx)(n.a,{href:"https://github.com/langflow-ai/openrag/issues",children:"OpenRAG GitHub issue"})," to request support for specific models."]})]})}function a(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},5014:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>d,default:()=>m,frontMatter:()=>c,metadata:()=>i,toc:()=>u});const i=JSON.parse('{"id":"support/troubleshoot","title":"Troubleshoot OpenRAG","description":"This page provides troubleshooting advice for issues you might encounter when using OpenRAG or contributing to OpenRAG.","source":"@site/docs/support/troubleshoot.mdx","sourceDirName":"support","slug":"/support/troubleshoot","permalink":"/support/troubleshoot","draft":false,"unlisted":false,"editUrl":"https://github.com/openrag/openrag/tree/main/docs/docs/support/troubleshoot.mdx","tags":[],"version":"current","frontMatter":{"title":"Troubleshoot OpenRAG","slug":"/support/troubleshoot"},"sidebar":"tutorialSidebar","previous":{"title":"Contribute to OpenRAG","permalink":"/support/contribute"}}');var o=s(4848),r=s(8453),t=s(9179),a=s(3059),l=s(6619);const c={title:"Troubleshoot OpenRAG",slug:"/support/troubleshoot"},d=void 0,h={},u=[{value:"OpenRAG installation fails with unable to get local issuer certificate",id:"openrag-installation-fails-with-unable-to-get-local-issuer-certificate",level:2},{value:"No container runtime found",id:"no-container-runtime-found",level:2},{value:"Container out of memory errors",id:"container-out-of-memory-errors",level:2},{value:"OpenSearch fails to start",id:"opensearch-fails-to-start",level:2},{value:"OpenRAG fails to start from the TUI with operation not supported",id:"openrag-fails-to-start-from-the-tui-with-operation-not-supported",level:2},{value:"Application onboarding gets stuck or fails",id:"application-onboarding-gets-stuck-or-fails",level:2},{value:"Langflow connection issues",id:"langflow-connection-issues",level:2},{value:"Port conflicts",id:"port-conflicts",level:2},{value:"Upgrade fails due to Langflow container already exists",id:"langflow-container-already-exists-during-upgrade",level:2},{value:"Model availability and performance issues",id:"model-availability-and-performance-issues",level:2},{value:"Language model isn&#39;t listed in OpenRAG settings or application onboarding",id:"language-model-isnt-listed-in-openrag-settings-or-application-onboarding",level:3},{value:"IBM watsonx.ai model issues",id:"ibm-watsonxai-model-issues",level:3},...l.RM,{value:"Ollama model issues",id:"ollama-model-issues",level:3},...a.RM,{value:"Document ingestion or similarity search issues",id:"document-ingestion-or-similarity-search-issues",level:2},{value:"Failed or slow ingestion",id:"failed-or-slow-ingestion",level:3},{value:"Ingesting very large PDFs (more than 300 pages)",id:"ingesting-very-large-pdfs-more-than-300-pages",level:3},{value:"OCR ingestion fails (easyocr not installed)",id:"ocr-ingestion-fails-easyocr-not-installed",level:3},{value:"Problems when referencing documents in chat",id:"problems-when-referencing-documents-in-chat",level:3},{value:"Chat issues",id:"chat-issues",level:2},{value:"Documents seem to be missing or misinterpreted",id:"documents-seem-to-be-missing-or-misinterpreted",level:3},{value:"Service is suddenly unavailable when it was working previously",id:"service-is-suddenly-unavailable-when-it-was-working-previously",level:3},{value:"JSON-formatted responses",id:"json-formatted-responses",level:3},{value:"Frequent hallucinations",id:"frequent-hallucinations",level:3},{value:"Responses are good but could be better",id:"responses-are-good-but-could-be-better",level:3},{value:"Cannot detect GPU with Fedora or local Ollama",id:"cannot-detect-gpu-with-fedora-or-local-ollama",level:2}];function p(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"This page provides troubleshooting advice for issues you might encounter when using OpenRAG or contributing to OpenRAG."}),"\n",(0,o.jsx)(n.h2,{id:"openrag-installation-fails-with-unable-to-get-local-issuer-certificate",children:"OpenRAG installation fails with unable to get local issuer certificate"}),"\n",(0,o.jsxs)(n.p,{children:["If you are installing OpenRAG on macOS, and the installation fails with ",(0,o.jsx)(n.code,{children:"unable to get local issuer certificate"}),", run the following command, and then retry the installation:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'open "/Applications/Python VERSION/Install Certificates.command"\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Replace ",(0,o.jsx)(n.code,{children:"VERSION"})," with your installed Python version, such as ",(0,o.jsx)(n.code,{children:"3.13"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"no-container-runtime-found",children:"No container runtime found"}),"\n",(0,o.jsxs)(n.p,{children:["When you start the TUI, a ",(0,o.jsx)(n.code,{children:"No container runtime found"})," error indicates that OpenRAG cannot find a running Docker or Podman machine."]}),"\n",(0,o.jsx)(n.p,{children:"Make sure Docker or Podman is installed, available in the PATH, and a VM is running."}),"\n",(0,o.jsx)(n.h2,{id:"container-out-of-memory-errors",children:"Container out of memory errors"}),"\n",(0,o.jsx)(n.p,{children:"If you encounter container memory errors, try the following:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Increase your Podman or Docker VM's allocated memory."}),"\n",(0,o.jsx)(n.p,{children:"If you're using Podman on macOS, you might need to increase VM memory on your Podman machine.\nThis example, the following commands stop Podman, increase the machine size to 8 GB of RAM (the minimum recommended RAM for OpenRAG), and then restart the VM:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"podman machine stop\npodman machine rm\npodman machine init --memory 8192   # 8 GB example\npodman machine start\n"})}),"\n",(0,o.jsx)(n.p,{children:"You must also restart your OpenRAG services after increasing the container VM's memory."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Use a CPU-only deployment to reduce memory usage."}),"\n",(0,o.jsxs)(n.p,{children:["For TUI-managed deployments, you can enable ",(0,o.jsx)(n.strong,{children:"CPU mode"})," on the TUI's ",(0,o.jsx)(n.strong,{children:"Status"})," page."]}),"\n",(0,o.jsxs)(n.p,{children:["For self-managed deployments, CPU-only deployments use the ",(0,o.jsx)(n.code,{children:"docker-compose.yml"})," file that doesn't have GPU overrides."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"opensearch-fails-to-start",children:"OpenSearch fails to start"}),"\n",(0,o.jsxs)(n.p,{children:["Check that the value of the ",(0,o.jsx)(n.code,{children:"OPENSEARCH_PASSWORD"})," ",(0,o.jsx)(n.a,{href:"/reference/configuration",children:"environment variable"})," meets the ",(0,o.jsx)(n.a,{href:"https://docs.opensearch.org/latest/security/configuration/demo-configuration/#setting-up-a-custom-admin-password",children:"OpenSearch password complexity requirements"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["If you need to change the password, you must ",(0,o.jsx)(n.a,{href:"/manage-services",children:"reset the OpenRAG services"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"openrag-fails-to-start-from-the-tui-with-operation-not-supported",children:"OpenRAG fails to start from the TUI with operation not supported"}),"\n",(0,o.jsxs)(n.p,{children:["This error occurs when starting OpenRAG with the TUI in ",(0,o.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/windows/wsl/install",children:"WSL (Windows Subsystem for Linux)"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["The error occurs because OpenRAG is running within a WSL environment, so ",(0,o.jsx)(n.code,{children:"webbrowser.open()"})," can't launch a browser automatically."]}),"\n",(0,o.jsxs)(n.p,{children:["To access the OpenRAG application, open a web browser and enter ",(0,o.jsx)(n.code,{children:"http://localhost:3000"})," in the address bar."]}),"\n",(0,o.jsx)(n.h2,{id:"application-onboarding-gets-stuck-or-fails",children:"Application onboarding gets stuck or fails"}),"\n",(0,o.jsx)(n.p,{children:"If the application onboarding process hangs for a long time or fails for an unspecified reason, try the following:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Make sure you have enough free space (more than 50 GB) available for the temporary storage required for document ingestion."}),"\n",(0,o.jsx)(n.li,{children:"Clear your browser's cache."}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"langflow-connection-issues",children:"Langflow connection issues"}),"\n",(0,o.jsxs)(n.p,{children:["Verify that the value of the ",(0,o.jsx)(n.code,{children:"LANGFLOW_SUPERUSER"})," environment variable is correct.\nFor more information about this variable and how this variable controls Langflow access, see ",(0,o.jsx)(n.a,{href:"/reference/configuration#langflow-settings",children:"Langflow settings"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"port-conflicts",children:"Port conflicts"}),"\n",(0,o.jsx)(n.p,{children:"By default, OpenRAG requires the following ports to be available on the host machine:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"3000"}),": OpenRAG frontend"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"7860"}),": Langflow service"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"8000"}),": OpenRAG backend"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"9200"}),": OpenSearch service"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"5601"}),": OpenSearch dashboards"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"5001"}),": Docling service"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["If the default ports for the OpenRAG frontend (",(0,o.jsx)(n.code,{children:"3000"}),") or Langflow (",(0,o.jsx)(n.code,{children:"7860"}),") are already in use on your host machine, you can set the ",(0,o.jsx)(n.code,{children:"FRONTEND_PORT"})," or ",(0,o.jsx)(n.code,{children:"LANGFLOW_PORT"})," ",(0,o.jsx)(n.a,{href:"/reference/configuration",children:"environment variables"})," to map these services to different host ports.\nIf you set ",(0,o.jsx)(n.code,{children:"LANGFLOW_PORT"}),", you must also set ",(0,o.jsx)(n.code,{children:"LANGFLOW_PUBLIC_URL"})," to use the new port.\nTo apply the port mapping, ",(0,o.jsx)(n.a,{href:"/manage-services#stop-and-start-containers",children:"restart the containers"})," after editing your OpenRAG ",(0,o.jsx)(n.code,{children:".env"})," file."]}),"\n",(0,o.jsx)(n.h2,{id:"langflow-container-already-exists-during-upgrade",children:"Upgrade fails due to Langflow container already exists"}),"\n",(0,o.jsxs)(n.p,{children:["If you encounter a ",(0,o.jsx)(n.code,{children:"langflow container already exists"})," error when upgrading OpenRAG, this typically means you upgraded OpenRAG with ",(0,o.jsx)(n.code,{children:"uv"}),", but you didn't remove or upgrade containers from a previous installation."]}),"\n",(0,o.jsx)(n.p,{children:"To resolve this issue, do the following:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Remove only the Langflow container:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Stop the Langflow container:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:'title="Docker"',children:"docker stop langflow\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:'title="Podman"',children:"podman stop langflow\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Remove the Langflow container:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:'title="Docker"',children:"docker rm langflow --force\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",metastring:'title="Podman"',children:"podman rm langflow --force\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Retry the ",(0,o.jsx)(n.a,{href:"/upgrade",children:"upgrade"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["If reinstalling the Langflow container doesn't resolve the issue, then you must ",(0,o.jsx)(n.a,{href:"/manage-services",children:"reset all containers"})," or ",(0,o.jsx)(n.a,{href:"/reinstall",children:"reinstall OpenRAG"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Retry the ",(0,o.jsx)(n.a,{href:"/upgrade",children:"upgrade"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"If no updates are available after reinstalling OpenRAG, then you reinstalled at the latest version, and your deployment is up to date."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"model-availability-and-performance-issues",children:"Model availability and performance issues"}),"\n",(0,o.jsx)(n.p,{children:"The following issues relate to the models you can use with OpenRAG and potential performance issues, such as malformed responses and excessive hallucinations."}),"\n",(0,o.jsxs)(n.p,{children:["See also ",(0,o.jsx)(n.a,{href:"#chat-issues",children:"Chat issues"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"language-model-isnt-listed-in-openrag-settings-or-application-onboarding",children:"Language model isn't listed in OpenRAG settings or application onboarding"}),"\n",(0,o.jsx)(n.p,{children:"If your language model isn't listed in the OpenRAG settings or application onboarding, then the model likely doesn't support tool calling, which is required for OpenRAG.\nYou must select a different model.\nIf no other models are listed, make sure your model provider API key or instance has access to models that support tool calling."}),"\n",(0,o.jsxs)(n.p,{children:["You can submit an ",(0,o.jsx)(n.a,{href:"https://github.com/langflow-ai/openrag/issues",children:"OpenRAG GitHub issue"})," to request support for specific models."]}),"\n",(0,o.jsx)(n.h3,{id:"ibm-watsonxai-model-issues",children:"IBM watsonx.ai model issues"}),"\n",(0,o.jsx)(l.Ay,{}),"\n",(0,o.jsx)(n.h3,{id:"ollama-model-issues",children:"Ollama model issues"}),"\n",(0,o.jsx)(a.Ay,{}),"\n",(0,o.jsx)(n.h2,{id:"document-ingestion-or-similarity-search-issues",children:"Document ingestion or similarity search issues"}),"\n",(0,o.jsx)(n.p,{children:"The following issues can occur during document ingestion or as a result of suboptimal ingestion."}),"\n",(0,o.jsx)(n.h3,{id:"failed-or-slow-ingestion",children:"Failed or slow ingestion"}),"\n",(0,o.jsx)(n.p,{children:"If an ingestion task fails, try the following:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Make sure you ingest only ",(0,o.jsx)(n.a,{href:"/ingestion#supported-file-types",children:"supported file types"}),"."]}),"\n",(0,o.jsx)(n.li,{children:"Split very large files into smaller files."}),"\n",(0,o.jsx)(n.li,{children:"Remove unusual or complex embedded content, such as videos or animations. Although Docling can replace some non-text content with placeholders during ingestion, some embedded content might cause errors."}),"\n",(0,o.jsxs)(n.li,{children:["Make sure your Podman/Docker VM has ",(0,o.jsx)(n.a,{href:"/support/troubleshoot#container-out-of-memory-errors",children:"sufficient memory"})," and temporary storage for the ingestion tasks.\nThe minimum recommendation is 8 GB of RAM and at least 50 GB of free disk space, but the exact requirements depend on the size and complexity of your documents.\nIf you regularly ingest large files, more RAM and space are recommended."]}),"\n",(0,o.jsxs)(n.li,{children:["If OCR ingestion fails due to OCR missing, see ",(0,o.jsx)(n.a,{href:"/support/troubleshoot#ocr-ingestion-fails-easyocr-not-installed",children:"OCR ingestion fails (easyocr not installed)"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"ingesting-very-large-pdfs-more-than-300-pages",children:"Ingesting very large PDFs (more than 300 pages)"}),"\n",(0,o.jsx)(n.p,{children:"Ingesting very large PDFs can take 30 minutes or more."}),"\n",(0,o.jsxs)(n.p,{children:["Make sure your container VM has ",(0,o.jsx)(n.a,{href:"/support/troubleshoot#container-out-of-memory-errors",children:"sufficient memory"})," for processing large PDFs."]}),"\n",(0,o.jsxs)(n.p,{children:["If Langflow processes time out while ingesting very large PDFs, increase the ",(0,o.jsx)(n.code,{children:"LANGFLOW_TIMEOUT"})," and ",(0,o.jsx)(n.code,{children:"LANGFLOW_CONNECT_TIMEOUT"})," environment variables in your ",(0,o.jsxs)(n.a,{href:"/reference/configuration",children:["OpenRAG ",(0,o.jsx)(n.code,{children:".env"})," file"]}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"ocr-ingestion-fails-easyocr-not-installed",children:"OCR ingestion fails (easyocr not installed)"}),"\n",(0,o.jsxs)(n.p,{children:["Docling ingestion can fail with an OCR-related error that mentions ",(0,o.jsx)(n.code,{children:"easyocr"})," is missing.\nThis is likely due to a stale ",(0,o.jsx)(n.code,{children:"uv"})," cache when you ",(0,o.jsxs)(n.a,{href:"/install-uvx",children:["install OpenRAG with ",(0,o.jsx)(n.code,{children:"uvx"})]}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["When you invoke OpenRAG with ",(0,o.jsx)(n.code,{children:"uvx openrag"}),", ",(0,o.jsx)(n.code,{children:"uvx"})," creates a cached, ephemeral environment that doesn't modify your project.\nThe location and path of this cache depends on your operating system.\nFor example, on macOS, this is typically a user cache directory, such as ",(0,o.jsx)(n.code,{children:"~/.cache/uv"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"This cache can become stale, producing errors like missing dependencies."}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["If the TUI is open, press ",(0,o.jsx)("kbd",{children:"q"})," to exit the TUI."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Clear the ",(0,o.jsx)(n.code,{children:"uv"})," cache:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"uv cache clean\n"})}),"\n",(0,o.jsx)(n.p,{children:"To clear the OpenRAG cache only, run:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"uv cache clean openrag\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Invoke OpenRAG to restart the TUI:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"uvx openrag\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Click ",(0,o.jsx)(n.strong,{children:"Launch OpenRAG"}),", and then retry document ingestion."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["If you install OpenRAG with ",(0,o.jsx)(n.code,{children:"uv"}),", dependencies are synced directly from your ",(0,o.jsx)(n.code,{children:"pyproject.toml"})," file.\nThis should automatically install ",(0,o.jsx)(n.code,{children:"easyocr"})," because ",(0,o.jsx)(n.code,{children:"easyocr"})," is included as a dependency in OpenRAG's ",(0,o.jsx)(n.code,{children:"pyproject.toml"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["If you don't need OCR, you can disable OCR-based processing in your ",(0,o.jsx)(n.a,{href:"/ingestion-configure",children:"ingestion settings"})," to avoid requiring ",(0,o.jsx)(n.code,{children:"easyocr"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"problems-when-referencing-documents-in-chat",children:"Problems when referencing documents in chat"}),"\n",(0,o.jsxs)(n.p,{children:["If the OpenRAG ",(0,o.jsx)(n.strong,{children:"Chat"})," doesn't seem to use your documents correctly, ",(0,o.jsx)(n.a,{href:"/knowledge-browse",children:"browse your knowledge base"})," to confirm that the documents are uploaded in full, and the chunks are correct."]}),"\n",(0,o.jsxs)(n.p,{children:["If the documents are present and well-formed, check your ",(0,o.jsx)(n.a,{href:"/knowledge-filters",children:"knowledge filters"}),".\nIf you applied a filter to the chat, make sure the expected documents aren't excluded by the filter settings.\nYou can test this by applying the filter when you ",(0,o.jsx)(n.a,{href:"/knowledge-browse",children:"browse the knowledge base"}),".\nIf the filter excludes any documents, the agent cannot access those documents.\nBe aware that some settings create dynamic filters that don't always produce the same results, such as a ",(0,o.jsx)(n.strong,{children:"Search query"})," combined with a low ",(0,o.jsx)(n.strong,{children:"Response limit"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["If the document chunks have missing, incorrect, or unexpected text, you must ",(0,o.jsx)(n.a,{href:"/knowledge-browse#delete-knowledge",children:"delete the documents"})," from your knowledge base, modify the ",(0,o.jsx)(n.a,{href:"/ingestion-configure",children:"ingestion settings"})," or the documents themselves, and then reingest the documents.\nFor example:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Break combined documents into separate files for better metadata context."}),"\n",(0,o.jsxs)(n.li,{children:["Make sure scanned documents are legible enough for extraction, and enable the ",(0,o.jsx)(n.strong,{children:"OCR"})," option. Poorly scanned documents might require additional preparation or rescanning before ingestion."]}),"\n",(0,o.jsxs)(n.li,{children:["Adjust the ",(0,o.jsx)(n.strong,{children:"Chunk size"})," and ",(0,o.jsx)(n.strong,{children:"Chunk overlap"})," settings to better suit your documents. Larger chunks provide more context but can include irrelevant information, while smaller chunks yield more precise semantic search but can lack context."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"chat-issues",children:"Chat issues"}),"\n",(0,o.jsxs)(n.p,{children:["The following issues can occur when using the ",(0,o.jsxs)(n.a,{href:"/chat",children:["OpenRAG ",(0,o.jsx)(n.strong,{children:"Chat"})]})," feature."]}),"\n",(0,o.jsx)(n.h3,{id:"documents-seem-to-be-missing-or-misinterpreted",children:"Documents seem to be missing or misinterpreted"}),"\n",(0,o.jsxs)(n.p,{children:["In the ",(0,o.jsx)(n.strong,{children:"Chat"}),", click ",(0,o.jsx)(t.A,{name:"Gear","aria-hidden":"true"})," ",(0,o.jsx)(n.strong,{children:"Function Call: search_documents (tool_call)"})," to view the log of tool calls made by the agent.\nThis can shows you how the agent used particular tools and the reasoning."]}),"\n",(0,o.jsxs)(n.p,{children:["Click ",(0,o.jsx)(t.A,{name:"Library","aria-hidden":"true"})," ",(0,o.jsx)(n.strong,{children:"Knowledge"})," to confirm that the documents are present in the OpenRAG OpenSearch knowledge base, and then click each document to see how the document was chunked.\nIf a document was chunked improperly, you might need to tweak the ",(0,o.jsx)(n.a,{href:"/ingestion-configure",children:"ingestion settings"})," or modify and reupload the document."]}),"\n",(0,o.jsxs)(n.p,{children:["See also ",(0,o.jsx)(n.a,{href:"#document-ingestion-or-similarity-search-issues",children:"Document ingestion or similarity search issues"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"service-is-suddenly-unavailable-when-it-was-working-previously",children:"Service is suddenly unavailable when it was working previously"}),"\n",(0,o.jsx)(n.p,{children:"First, verify that the container VM and the OpenRAG services are running and healthy."}),"\n",(0,o.jsxs)(n.p,{children:["Second, make sure there are no issues with the flow configuration.\nIf you edited the ",(0,o.jsx)(n.strong,{children:"OpenRAG OpenSearch Agent"})," flow, use the ",(0,o.jsxs)(n.a,{href:"/agents#revert-a-built-in-flow-to-its-original-configuration",children:[(0,o.jsx)(n.strong,{children:"Restore flow"})," option"]})," to revert the flow to its original configuration."]}),"\n",(0,o.jsxs)(n.p,{children:["If you want to preserve your customizations, you can ",(0,o.jsx)(n.a,{href:"https://docs.langflow.org/concepts-flows-import",children:"export the flow"})," before restoring the flow."]}),"\n",(0,o.jsx)(n.h3,{id:"json-formatted-responses",children:"JSON-formatted responses"}),"\n",(0,o.jsx)(n.p,{children:"If a model returns JSON-formatted output instead of natural language responses, the model might not be designed for agentic reasoning and RAG tasks."}),"\n",(0,o.jsx)(n.p,{children:"Try a different model."}),"\n",(0,o.jsxs)(n.p,{children:["For more information, see ",(0,o.jsx)(n.a,{href:"#model-availability-and-performance-issues",children:"Model availability and performance issues"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"frequent-hallucinations",children:"Frequent hallucinations"}),"\n",(0,o.jsx)(n.p,{children:"If the model seems to hallucinate frequently, the model might be too small or poorly suited to RAG tasks."}),"\n",(0,o.jsx)(n.p,{children:"Try a different model."}),"\n",(0,o.jsxs)(n.p,{children:["For more information, see ",(0,o.jsx)(n.a,{href:"#model-availability-and-performance-issues",children:"Model availability and performance issues"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"responses-are-good-but-could-be-better",children:"Responses are good but could be better"}),"\n",(0,o.jsxs)(n.p,{children:["If your model is compatible with OpenRAG, and it isn't exhibiting any obvious errors, then you can use RAG best practices to refine the response quality, such as ",(0,o.jsx)(n.a,{href:"/knowledge-filters",children:"knowledge filters"})," and prompt engineering."]}),"\n",(0,o.jsx)(n.h2,{id:"cannot-detect-gpu-with-fedora-or-local-ollama",children:"Cannot detect GPU with Fedora or local Ollama"}),"\n",(0,o.jsx)(n.p,{children:"If your machine has GPU support, but OpenRAG is having problems detecting or using the GPU, you might see errors like the following:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-console",children:"Auto-detected mode as 'legacy'\nnvidia-container-cli: ldcache error\nerror running createRuntime hook\nunrecognized runtime 'crun'\nOCI runtime error\n"})}),"\n",(0,o.jsx)(n.p,{children:"To troubleshoot these issues, do the following:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Make sure your environment has a compatible version of the NVIDIA Container Toolkit."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"If you are using a local Ollama deployment, Ollama must run in a container with GPU support."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"The following steps explain how to troubleshoot these issues with Fedora 43, Podman, local Ollama, and a machine that has an NVIDIA GPU:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Make sure your NVIDIA driver is updated to the latest version."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Remove old toolkit packages:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo dnf5 remove -y nvidia-container-toolkit nvidia-container-toolkit-base libnvidia-container*\n"})}),"\n",(0,o.jsx)(n.p,{children:"This command doesn't remove the NVIDIA driver."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Get the NVIDIA Container Toolkit package repository:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo curl -s -o /etc/yum.repos.d/nvidia-container-toolkit.repo \\\nhttps://nvidia.github.io/libnvidia-container/stable/rpm/nvidia-container-toolkit.repo\n"})}),"\n",(0,o.jsx)(n.p,{children:"Version 1.14 or later is required."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Refresh the package cache to recognize the new repository:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo dnf5 clean expire-cache\nsudo dnf5 update\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Install the new toolkit:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo dnf5 install -y nvidia-container-toolkit\n"})}),"\n",(0,o.jsx)(n.p,{children:"This command installs the following:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"libnvidia-container"})," version 1.14 or later"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"nvidia-container-toolkit-base"})," version 1.14 or later"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"nvidia-container-toolkit"})," version 1.14 or later"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["These versions support Fedora 43, Podman, and ",(0,o.jsx)(n.code,{children:"crun"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Configure the runtime for Podman (",(0,o.jsx)(n.code,{children:"crun"}),"):"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo nvidia-ctk runtime configure --runtime=crun\n"})}),"\n",(0,o.jsxs)(n.p,{children:["If this command fails, the make sure you installed version 1.14 or later of the NVIDIA Container Toolkit, which supports ",(0,o.jsx)(n.code,{children:"crun"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Fix the dynamic loader cache to prevent ",(0,o.jsx)(n.code,{children:"ldconfig"})," errors:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo ldconfig\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Restart the Podman socket:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"systemctl --user enable --now podman.socket\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Test the NVIDIA hook, and make sure the output doesn't include ",(0,o.jsx)(n.code,{children:"Auto-detected mode as 'legacy'"}),". The output must be empty."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"/usr/bin/nvidia-container-runtime-hook prestart\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Test the GPU with Podman:"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"podman run --rm \\\n--hooks-dir=/usr/share/containers/oci/hooks.d \\\n--device nvidia.com/gpu=all \\\nnvidia/cuda:12.3.0-base-ubuntu22.04 nvidia-smi\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Make sure ",(0,o.jsx)(n.code,{children:"nvidia-smi"})," prints your GPU information instead of an error."]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"--rm"})," argument automatically removes the container after the command exits."]}),"\n",(0,o.jsxs)(n.ol,{start:"11",children:["\n",(0,o.jsx)(n.li,{children:"Run Ollama in a GPU-enabled container:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"podman run -d \\\n--name ollama \\\n--security-opt=label=disable \\\n--hooks-dir=/usr/share/containers/oci/hooks.d \\\n--device nvidia.com/gpu=all \\\n-p 11434:11434 \\\n-v $HOME/ollama:/root/.ollama \\\ndocker.io/ollama/ollama:latest\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"12",children:["\n",(0,o.jsxs)(n.li,{children:["Start the TUI, and then start OpenRAG with GPU mode enabled.\nOr, for self-managed deployments, deploy OpenRAG with the ",(0,o.jsx)(n.code,{children:"docker-compose-gpu.yml"})," file."]}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},6619:(e,n,s)=>{s.d(n,{Ay:()=>a,RM:()=>r});var i=s(4848),o=s(8453);const r=[];function t(e){const n={a:"a",p:"p",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"OpenRAG isn't guaranteed to be compatible with all models that are available through IBM watsonx.ai."}),"\n",(0,i.jsx)(n.p,{children:"Language models must support tool calling to be compatible with OpenRAG.\nIncompatible models aren't listed in OpenRAG's settings or onboarding."}),"\n",(0,i.jsxs)(n.p,{children:["Additionally, models must be able to handle the agentic reasoning tasks required by OpenRAG.\nModels that are too small or not designed for agentic RAG tasks can return low quality, incorrect, or improperly formatted responses.\nFor more information, see ",(0,i.jsx)(n.a,{href:"/support/troubleshoot#chat-issues",children:"Chat issues"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["You can submit an ",(0,i.jsx)(n.a,{href:"https://github.com/langflow-ai/openrag/issues",children:"OpenRAG GitHub issue"})," to request support for specific models."]})]})}function a(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},9179:(e,n,s)=>{s.d(n,{A:()=>r});s(6540);var i=s(7856),o=s(4848);function r({name:e,...n}){const s=i[e];return s?(0,o.jsx)(s,{...n}):null}}}]);