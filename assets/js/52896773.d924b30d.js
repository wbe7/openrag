"use strict";(globalThis.webpackChunkopenrag_docs=globalThis.webpackChunkopenrag_docs||[]).push([[6152],{937:(e,n,s)=>{s.d(n,{Ay:()=>i,RM:()=>t});var r=s(4848),o=s(8453);const t=[];function a(e){const n={admonition:"admonition",code:"code",em:"em",li:"li",p:"p",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(n.admonition,{type:"warning",children:[(0,r.jsx)(n.p,{children:"This is a destructive operation that does the following:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Destroys all OpenRAG containers, volumes, and local images."}),"\n",(0,r.jsx)(n.li,{children:"Prunes any additional container objects."}),"\n",(0,r.jsxs)(n.li,{children:["Deletes the contents of the ",(0,r.jsx)(n.code,{children:"~/.openrag"})," directory ",(0,r.jsx)(n.em,{children:"except"})," for OpenRAG's ",(0,r.jsx)(n.code,{children:".env"})," file and the ",(0,r.jsx)(n.code,{children:"/documents"})," subdirectory."]}),"\n"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)("p",{}),"Destroyed containers and deleted data are lost and cannot be recovered after running this operation."]})]})}function i(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},1381:(e,n,s)=>{s.d(n,{Ay:()=>i,RM:()=>t});var r=s(4848),o=s(8453);const t=[];function a(e){const n={code:"code",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Docker"',children:"docker compose up -d\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Podman"',children:"podman compose up -d\n"})})]})}function i(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},2046:(e,n,s)=>{s.d(n,{Ay:()=>i,RM:()=>t});var r=s(4848),o=s(8453);const t=[];function a(e){const n={code:"code",li:"li",ol:"ol",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Remove all containers, including stopped containers:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Docker"',children:"docker rm --force $(docker ps -aq)\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Podman"',children:"podman rm --all --force\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Remove all images:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Docker"',children:"docker rmi --force $(docker images -q)\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Podman"',children:"podman rmi --all --force\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Remove all volumes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Docker"',children:"docker volume prune --force\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Podman"',children:"podman volume prune --force\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Remove all networks except the default network:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Docker"',children:"docker network prune --force\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Podman"',children:"podman network prune --force\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Clean up any leftover data:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Docker"',children:"docker system prune --all --force --volumes\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Podman"',children:"podman system prune --all --force --volumes\n"})}),"\n"]}),"\n"]})}function i(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},4577:(e,n,s)=>{s.d(n,{Ay:()=>i,RM:()=>t});var r=s(4848),o=s(8453);const t=[];function a(e){const n={code:"code",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Docker"',children:"docker stop $(docker ps -q)\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Podman"',children:"podman stop --all\n"})})]})}function i(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>i});var r=s(6540);const o={},t=r.createContext(o);function a(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(t.Provider,{value:n},e.children)}},8500:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>u,contentTitle:()=>m,default:()=>g,frontMatter:()=>h,metadata:()=>r,toc:()=>x});const r=JSON.parse('{"id":"get-started/reinstall","title":"Reinstall OpenRAG","description":"You can reset your OpenRAG deployment to its initial state by recreating the containers and deleting accessory data, such as the .env file and ingested documents.","source":"@site/docs/get-started/reinstall.mdx","sourceDirName":"get-started","slug":"/reinstall","permalink":"/reinstall","draft":false,"unlisted":false,"editUrl":"https://github.com/openrag/openrag/tree/main/docs/docs/get-started/reinstall.mdx","tags":[],"version":"current","frontMatter":{"title":"Reinstall OpenRAG","slug":"/reinstall"},"sidebar":"tutorialSidebar","previous":{"title":"Upgrade OpenRAG","permalink":"/upgrade"},"next":{"title":"Remove OpenRAG","permalink":"/uninstall"}}');var o=s(4848),t=s(8453),a=s(1381),i=s(9809),c=s(4577),l=s(2046),d=s(937),p=s(9870);const h={title:"Reinstall OpenRAG",slug:"/reinstall"},m=void 0,u={},x=[{value:"Reinstall TUI-managed containers",id:"reinstall-tui-managed-containers",level:2},...p.RM,...d.RM,{value:"Reinstall self-managed containers with <code>docker compose</code> or <code>podman compose</code>",id:"reinstall-self-managed-containers-with-docker-compose-or-podman-compose",level:2},...p.RM,...d.RM,...i.RM,...a.RM,{value:"Reinstall self-managed containers with discrete <code>docker</code> or <code>podman</code> commands",id:"reinstall-self-managed-containers-with-discrete-docker-or-podman-commands",level:2},...p.RM,...c.RM,...l.RM];function j(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",strong:"strong",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["You can reset your OpenRAG deployment to its initial state by recreating the containers and deleting accessory data, such as the ",(0,o.jsx)(n.code,{children:".env"})," file and ingested documents."]}),"\n",(0,o.jsx)(n.admonition,{type:"warning",children:(0,o.jsx)(n.p,{children:"These are destructive operations that reset your OpenRAG deployment to an initial state.\nDestroyed containers and deleted data are lost and cannot be recovered after running these operations."})}),"\n",(0,o.jsx)(n.h2,{id:"reinstall-tui-managed-containers",children:"Reinstall TUI-managed containers"}),"\n",(0,o.jsx)(p.Ay,{}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["In the TUI, click ",(0,o.jsx)(n.strong,{children:"Status"}),", and then click ",(0,o.jsx)(n.strong,{children:"Factory Reset"})," to ",(0,o.jsx)(n.a,{href:"/manage-services#reset-containers",children:"reset your OpenRAG containers"}),"."]}),"\n",(0,o.jsx)(d.Ay,{}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Press ",(0,o.jsx)("kbd",{children:"Esc"})," to close the ",(0,o.jsx)(n.strong,{children:"Status"})," page, and then press ",(0,o.jsx)("kbd",{children:"q"})," to exit the TUI."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Optional: Delete or edit ",(0,o.jsxs)(n.a,{href:"/reference/configuration",children:["OpenRAG's ",(0,o.jsx)(n.code,{children:".env"})," file"]}),", which is stored at ",(0,o.jsx)(n.code,{children:"~/.openrag/tui"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["This file contains your OpenRAG configuration, including OpenRAG passwords, API keys, OAuth credentials, and other environment variables. If you delete this file, the TUI automatically generates a new one after you repeat the setup and onboarding process. If you preserve this file, the TUI can read values from the existing ",(0,o.jsx)(n.code,{children:".env"})," file during setup and onboarding."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Optional: Remove any files from the ",(0,o.jsx)(n.code,{children:"~/.openrag/documents"})," subdirectory that you don't want to reingest after redeploying the containers.\nIt is recommended that you preserve OpenRAG's ",(0,o.jsx)(n.a,{href:"https://github.com/langflow-ai/openrag/tree/main/openrag-documents",children:"default documents"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Restart the TUI with ",(0,o.jsx)(n.code,{children:"uv run openrag"})," or ",(0,o.jsx)(n.code,{children:"uvx openrag"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Repeat the ",(0,o.jsx)(n.a,{href:"/install#setup",children:"setup process"})," to configure OpenRAG and restart all services.\nThen, launch the OpenRAG app and repeat the ",(0,o.jsx)(n.a,{href:"/install#application-onboarding",children:"application onboarding process"}),"."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.h2,{id:"reinstall-self-managed-containers-with-docker-compose-or-podman-compose",children:["Reinstall self-managed containers with ",(0,o.jsx)(n.code,{children:"docker compose"})," or ",(0,o.jsx)(n.code,{children:"podman compose"})]}),"\n",(0,o.jsxs)(n.p,{children:["Use these steps to reinstall OpenRAG containers with streamlined ",(0,o.jsx)(n.code,{children:"docker compose"})," or ",(0,o.jsx)(n.code,{children:"podman compose"})," commands:"]}),"\n",(0,o.jsx)(p.Ay,{}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Destroy the containers, volumes, and local images, and then remove (prune) any additional container objects."}),"\n",(0,o.jsx)(d.Ay,{}),"\n",(0,o.jsx)(i.Ay,{}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Optional: Edit OpenRAG's ",(0,o.jsx)(n.code,{children:".env"})," file if needed."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Optional: Remove any files from the ",(0,o.jsx)(n.code,{children:"~/.openrag/documents"})," subdirectory that you don't want to reingest after redeploying the containers.\nIt is recommended that you preserve OpenRAG's ",(0,o.jsx)(n.a,{href:"https://github.com/langflow-ai/openrag/tree/main/openrag-documents",children:"default documents"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Redeploy OpenRAG:"}),"\n",(0,o.jsx)(a.Ay,{}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Launch the OpenRAG app, and then repeat the ",(0,o.jsx)(n.a,{href:"/docker#application-onboarding",children:"application onboarding process"}),"."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.h2,{id:"reinstall-self-managed-containers-with-discrete-docker-or-podman-commands",children:["Reinstall self-managed containers with discrete ",(0,o.jsx)(n.code,{children:"docker"})," or ",(0,o.jsx)(n.code,{children:"podman"})," commands"]}),"\n",(0,o.jsxs)(n.p,{children:["Use these commands to remove and clean up OpenRAG containers with discrete ",(0,o.jsx)(n.code,{children:"docker"})," or ",(0,o.jsx)(n.code,{children:"podman"})," commands."]}),"\n",(0,o.jsx)(n.p,{children:"If you want to reinstall one container, specify the container name in the commands instead of running the commands on all containers."}),"\n",(0,o.jsx)(p.Ay,{}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Stop all running containers:"}),"\n",(0,o.jsx)(c.Ay,{}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Remove and clean up containers:"}),"\n",(0,o.jsx)(l.Ay,{}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Optional: Edit OpenRAG's ",(0,o.jsx)(n.code,{children:".env"})," file if needed."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Optional: If you removed all containers or specifically the OpenSearch container, then you can remove any files from the ",(0,o.jsx)(n.code,{children:"~/.openrag/documents"})," subdirectory that you don't want to reingest after redeploying the containers.\nIt is recommended that you preserve OpenRAG's ",(0,o.jsx)(n.a,{href:"https://github.com/langflow-ai/openrag/tree/main/openrag-documents",children:"default documents"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["If you removed all OpenRAG containers, ",(0,o.jsx)(n.a,{href:"/docker",children:"redeploy OpenRAG"}),".\nIf you removed only one container, redeploy that container with the appropriate ",(0,o.jsx)(n.code,{children:"docker run"})," or ",(0,o.jsx)(n.code,{children:"podman run"})," command."]}),"\n"]}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(j,{...e})}):j(e)}},9809:(e,n,s)=>{s.d(n,{Ay:()=>i,RM:()=>t});var r=s(4848),o=s(8453);const t=[];function a(e){const n={code:"code",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Docker"',children:"docker compose down --volumes --remove-orphans --rmi local\ndocker system prune -f\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="Podman"',children:"podman compose down --volumes --remove-orphans --rmi local\npodman system prune -f\n"})})]})}function i(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},9870:(e,n,s)=>{s.d(n,{Ay:()=>i,RM:()=>t});var r=s(4848),o=s(8453);const t=[];function a(e){const n={a:"a",li:"li",ol:"ol",...(0,o.R)(),...e.components};return(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["If you modified the built-in flows or created custom flows in your ",(0,r.jsx)(n.a,{href:"/agents",children:"OpenRAG Langflow instance"}),", ",(0,r.jsx)(n.a,{href:"https://docs.langflow.org/concepts-flows-import",children:"export your flows"})," before starting this process. Although OpenRAG can preserve changes to the built-in flows, it doesn't preserve user-created flows. As a general best practice, exporting your flows is recommended to create backups of your customizations. Afterwards, you can reimport your flows or reference the exported flow JSON as needed."]}),"\n"]})}function i(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);