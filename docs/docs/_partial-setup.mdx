import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import PartialOAuthCredentials from '@site/docs/_partial-oauth-credentials.mdx';

You can use either **Basic Setup** or **Advanced Setup** to configure OpenRAG.

:::info
You must use **Advanced Setup** if you want to enable either of the following during initial set up:

* [OAuth mode](/knowledge#auth): Controls document ownership and access in your OpenRAG OpenSearch knowledge base.
Without OAuth mode, there is no differentiation between users; all users that access your OpenRAG instance can access and manage all uploaded documents.

* [Cloud storage connectors](/ingestion#oauth-ingestion): Ingest documents from external storage services.
:::

If OpenRAG detects [OAuth or cloud storage connector credentials](/reference/configuration#oauth-and-cloud-storage-connector-settings) during setup, it recommends **Advanced Setup** in the TUI.

You can also enable these features later.

<Tabs groupId="Setup method">
<TabItem value="Basic setup" label="Basic setup" default>

1. In the TUI, select **Basic Setup**.

2. Enter administrator passwords for the OpenRAG OpenSearch and Langflow services.

   The OpenSearch password is required, and a secure password is automatically generated if you don't provide one manually.

   The Langflow password is recommended but optional.
   If the Langflow password is empty, the Langflow server starts without authentication enabled. For more information, see [Langflow settings](/reference/configuration#langflow-settings).

   You can click **Generate Password** to create a Langflow password and username automatically.

3. Optional: Under **API Keys**, enter your model provider credentials, or leave these fields empty if you want to configure model provider credentials during the application onboarding process.

   There is no material difference between providing these values now or during the [application onboarding process](#application-onboarding).
   If you provide a credential now, it can be populated automatically during the application onboarding process if you enable the **Use environment API key** option.

   OpenRAG's core functionality requires access to language and embedding models.
   By default, OpenRAG uses OpenAI models.
   If you aren't sure which models or providers to use, you must provide an OpenAI API key to use OpenRAG's default model configuration.

4. Optional: Under **Others**, edit the [knowledge base](/knowledge) paths if you don't want to use the default paths:

   * **Documents Paths**: One or more paths to directories are where OpenRAG looks for documents to ingest.
   * **OpenSearch Data Path**: Specify the path where you want OpenRAG to create your OpenSearch index.

5. Click **Save Configuration**.

   Your passwords and API keys, if provided, are stored in the [OpenRAG `.env` file](/reference/configuration) at `~/.openrag/tui`.
   If you modified any credentials that were pulled from an existing `.env` file, those values are updated in the `.env` file.

6. Click **Start OpenRAG** to start the OpenRAG services.

   This process can take some time while OpenRAG pulls and runs the container images.
   If all services start successfully, the TUI prints a confirmation message:

   ```text
   Services started successfully
   Command completed successfully
   ```

7. Click **Close**, and then click **Launch OpenRAG** or navigate to `localhost:3000` in your browser.

8. Continue with the [application onboarding process](#application-onboarding).

</TabItem>
<TabItem value="Advanced setup" label="Advanced setup">

1. In the TUI, select **Advanced Setup**.

2. Enter administrator passwords for the OpenRAG OpenSearch and Langflow services.

   The OpenSearch password is required, and a secure password is automatically generated if you don't provide one manually.

   The Langflow password is recommended but optional.
   If the Langflow password is empty, the Langflow server starts without authentication enabled. For more information, see [Langflow settings](/reference/configuration#langflow-settings).

   You can click **Generate Password** to create a Langflow password and username automatically.

3. Optional: Under **API Keys**, enter your model provider credentials, or leave these fields empty if you want to configure model provider credentials during the application onboarding process.

   There is no material difference between providing these values now or during the [application onboarding process](#application-onboarding).
   If you provide a credential now, it can be populated automatically during the application onboarding process if you enable the **Use environment API key** option.

   OpenRAG's core functionality requires access to language and embedding models.
   By default, OpenRAG uses OpenAI models.
   If you aren't sure which models or providers to use, you must provide an OpenAI API key to use OpenRAG's default model configuration.

4. Recommended: To enable OAuth mode or cloud storage connectors, enter the relevant OAuth credentials under **API Keys**. These settings can be populated automatically if OpenRAG detects these credentials in an [OpenRAG `.env` file](/reference/configuration) at `~/.openrag/tui`.

   <PartialOAuthCredentials />

5. If you entered OAuth credentials: Register the redirect URIs shown in the TUI in your cloud service's OAuth configuration.

   For Google, this URL is used to redirect users back to OpenRAG after they sign in, and for the cloud storage connector webhooks.

   For Microsoft and Amazon, this URL is used for the cloud storage connector webhooks.

6. Optional: Under **Others**, you can edit the following settings if needed:

   * **Documents Paths**: Use the default path or provide one or more paths to directories are where OpenRAG looks for documents to ingest in to your [knowledge base](/knowledge).
   * **OpenSearch Data Path**: Specify the path where you want OpenRAG to create your OpenSearch index.
   * **Langflow Public URL (`LANGFLOW_PUBLIC_URL`)** : Sets the base address to access the Langflow web interface. This is where users interact with flows in a browser.
   * **Webhook Base URL (`WEBHOOK_BASE_URL`)**: If you entered OAuth credentials, you can set the base address for your OAuth connector endpoints. If set, the OAuth connector webhook URLs are constructed as `WEBHOOK_BASE_URL/connectors/${provider}/webhook`. This option is required to enable automatic ingestion from cloud storage.

7. Click **Save Configuration**.

   Your passwords, API key, and OAuth credentials (if provided) are stored in the [OpenRAG `.env` file](/reference/configuration) at `~/.openrag/tui`.
   If you modified any credentials that were pulled from an existing `.env` file, those values are updated in the `.env` file.

8. Click **Start OpenRAG** to start the OpenRAG services.

   This process can take some time while OpenRAG pulls and runs the container images.
   If all services start successfully, the TUI prints a confirmation message:

   ```text
   Services started successfully
   Command completed successfully
   ```

9. Click **Close**, and then click **Launch OpenRAG** or navigate to `localhost:3000` in your browser.

   If you provided Google OAuth credentials, you must sign in with Google before you are redirected to your OpenRAG instance.

10. Continue with the [application onboarding process](#application-onboarding).

</TabItem>
</Tabs>